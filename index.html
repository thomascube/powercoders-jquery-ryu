<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ryu fires a hadouken - Solution</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <style>
      body {
        margin: 50px 0 50px 40px;
      }

      #ryu-div {
        margin-bottom: 40px;
        /* set position to allow absolute positionng inside */
        position: relative;
        overflow: hidden;
      }

      #ryu-div .ryu {
        cursor: pointer;
      }

      #ryu-div .hadouken {
        position: absolute;
        top: 140px;
        left: 400px;
      };
    </style>
  </head>
  <body>
    <div id="ryu-div">
      <img class="ryu" src="./images/ryu_stand_still.png">
    </div>
    <div id="hadouken-count">
      Ryu has fired <span class="count">0</span> hadoukens
    </div>
    <script>
    $(document).ready(function() {
      // let's get started here when DOM is ready

      // define image URLs to use for Ryu
      var ryuImages = {
        animated: './images/ryu_animated.gif',
        still:    './images/ryu_stand_still.png',
        action:   './images/ryu_hadouken_pose.png'
      };

      var hadoukenCount = 0;

      // switch image when mouse hovers
      $('#ryu-div img.ryu').hover(function() {
        this.src = ryuImages.animated;
      }, function() {
        this.src = ryuImages.still;
      });

      $('#ryu-div img.ryu').mousedown(function() {
        this.src = ryuImages.action;

        // append hadouken image and animate it
        $('<img>')
          .attr('src', './images/hadouken.gif')
          .addClass('hadouken')
          .appendTo('#ryu-div')
          .animate({'left': '800px'}, 1000, 'swing', function() {
            // remove when animation is done
            this.remove();
          });
      });
      $('#ryu-div img.ryu').mouseup(function() {
        this.src = ryuImages.animated;

        // increment hadouken counter
        $('#hadouken-count .count').text(++hadoukenCount);
      });

    });
    </script>
  </body>
</html>